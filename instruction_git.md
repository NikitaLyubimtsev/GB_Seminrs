# Инструкция по работе с Git

![logoGit](logo.png)

## Git это программа для контроля версий.

---

## Основные сведения

Для управления версиями и их состоянием у различных информационных объектов может использоваться специальное программное обеспечение, одним из которых является Git.

Для взаимодействия с программой одной из лучших практик считается применение терминала, в котором для доступа к ней вводиться ключевое слово `git`.

---

## Создание нового репозитория

Что бы создать новый репозиторий (инициализировать) нужно ввести команду:

    git init

---

## Проверка актуального состояния репозитория

Для того что бы проверить в каком состоянии находиться репозиторий необходимо ввести команду:

    git status

---

## Обновление индекса и подготовка для добавления изменений в репозиторий

Для обновления индекса, используя текущее содержимое, найденное в рабочем дереве, чтобы подготовить содержимое для следующего коммита необходимо ввести команду:

    git add <name_file>

---

## Внесение изменений в репозиторий

Для записи изменений в репозиторий необходимо ввести команду:

    git commit

> Используя дополнительный флаг `-m` можно сразу в кавычках ввести сообщение для создаваемого коммита (условно, названия коммита, отражающего суть внесённых изменений):

    git commit -m "message"

> Флаг `-am` позволяет обЪединить команды `add` и `commit` с введением сообщения (условно, названия коммита, отражающего суть внесённых изменений):

    git commit -am "message"

---

## Отслеживание изменений между версиями или последними сохранёнными изменениями

Для отражения между разными состояниями файла, между разными коммитами или основным деревом и внесёнными изменениями, но не добавленными ещё в индекс необходимо ввести команду:

    git diff
    git diff <hash1> <hash2>

> hash1 и hash2 -  это номера сравниваемых коммитов.

---

## Восстановление одной из старых версий

Для восстановления старой версии файла необходимо ввести команду:

    git checkout <hash>

> hash - это номер восстанавливаемого коммита

---

## Отслеживание истории изменений

Для просмотра истории изменений по коммитам необходимо ввести команду:

    git log

> используя флаг `-oneline` можно сократить вывод коммитов, для каждого из них выделяется одна строка и информация сокращается до минимально необходимой:

    git log --oneline

> используя флаг `-all` можно вывести все существующие коммиты для избранного файла:

    git log --all

> используя совместно флаги `-oneline` и `-all` можно объединить две предыдущее команды в одном запросе:

    git log --all --oneline

## Ветвление

Ветвления в гит нужны для ...

### Отображение всех веток

Для отображения всех веток используется команда:

    git branch

## Создание новой ветки

Что бы создать новую ветку необходимо ввести команду

    git branch <NameBranch>

> На место `NameBranch` записывается название ветки, *обратите внимание,* название желательно должно отражать сущность данной ветки.

### Переключения между ветками

Для переключения между ветками необходимо ввести команду:

    git checkout <NameBranch>

### Удаление ветки

Для удаления ветки необходимо ввести команду:

    git branch -d <NameBranch>

### Графическое отображение дерева

Для графического отображения дерева необходимо ввести команду:

    git log --graph

> За графическое отображение отвечает флаг `--graph`

Для графического отображения дерева изменений репозитория по всем веткам необходимо ввести команду:

    git log --oneline -- all --graph

### Слияние двух веток

Для слияния двух веток используется команда:
*Команда вводиться из той ветки в которую Вы хотите слить другую ветку*

    git merge <NameBranch>

> `NameBranch` имя ветки которую Вы хотите слить

**Обратите внимание что при слиянии двух веток могут возникать конфликты!!!**


### Конфликты слияния и их решение



Обычно конфликты возникают, когда два человека изменяют одни и те же строки в файле или один разработчик удаляет файл, который в это время изменяет другой разработчик. В таких случаях Git не может автоматически определить, какое изменение является правильным. Конфликты затрагивают только того разработчика, который выполняет слияние, остальная часть команды о конфликте не знает. Git помечает файл как конфликтующий и останавливает процесс слияния. В этом случае ответственность за разрешение конфликта несут разработчики.

Слияние и конфликты являются неотъемлемой частью работы с Git. В других инструментах управления версиями, например SVN, работа с конфликтами может быть дорогой и времязатратной. Git позволяет выполнять слияния очень просто. В большинстве случаев Git самостоятельно решает, как автоматически интегрировать новые изменения.

#### Типы конфликтов слияния

>Конфликт во время слияния может произойти в двух отдельных точках — при запуске и во время процесса слияния. Далее рассмотрим, как разрешать каждый из этих конфликтных сценариев.

`Git` прерывает работу в самом начале слияния

>Выполнение команды слияния прерывается в самом начале, если Git обнаруживает изменения в рабочем каталоге или разделе проиндексированных файлов текущего проекта. Git не может выполнить слияние, поскольку иначе эти ожидающие изменения будут перезаписаны новыми коммитами. Такое случается из-за конфликтов не с другими разработчиками, а с ожидающими локальными изменениями. Локальное состояние необходимо стабилизировать с помощью команд git stash, git checkout, git commit или git reset. Если команда слияния прерывается в самом начале, выдается следующее сообщение об ошибке:

    error: Entry <fileName> not uptodate. Cannot merge. (Changes in working directory)

`Git` прерывает работу во время слияния

>Сбой В ПРОЦЕССЕ слияния говорит о наличии конфликта между текущей локальной веткой и веткой, с которой выполняется слияние. Это свидетельствует о конфликте с кодом другого разработчика. `Git` сделает все возможное, чтобы объединить файлы, но оставит конфликтующие участки, чтобы вы разрешили их вручную. При сбое во время выполнения слияния выдается следующее сообщение об ошибке:

    error: Entry <fileName> would be overwritten by merge. Cannot merge. (Changes in staging area)

### Разрешение конфликтов слияния с помощью командной строки